<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>í•œê¸€ ë§ì¶¤ë²• ê²Œì„</title>
<style>
  :root{--bg:#f7f9ff;--card:#fff;--accent:#3b82f6;--ok:#16a34a;--bad:#ef4444}
  body{font-family:Apple SD Gothic Neo,system-ui,Segoe UI,Roboto,'Noto Sans KR',sans-serif;background:var(--bg);margin:0;padding:24px;display:flex;justify-content:center}
  .wrap{width:min(820px,96vw);background:var(--card);border-radius:12px;padding:20px;box-shadow:0 6px 20px rgba(30,30,60,0.08)}
  h1{margin:0 0 12px;font-size:20px;text-align:center}
  #word{font-size:28px;text-align:center;margin:14px 0;padding:10px 8px;border-radius:8px;background:#fbfdff}
  .stage{display:grid;grid-template-columns:1fr;gap:10px;margin-top:12px}
  button.opt{padding:12px;text-align:left;border-radius:8px;border:1px solid #dbeafe;background:#fff;cursor:pointer;font-size:15px}
  button.opt:hover{background:#f1f8ff}
  .small{font-size:13px;color:#444;opacity:.9}
  #result{margin-top:14px;padding:12px;border-radius:8px;min-height:54px}
  #result.ok{background:#ecfdf5;color:var(--ok);border:1px solid rgba(22,163,74,0.12)}
  #result.bad{background:#fff1f2;color:var(--bad);border:1px solid rgba(239,68,68,0.08)}
  .controls{display:flex;gap:10px;justify-content:center;margin-top:14px}
  .btn{padding:10px 16px;border-radius:8px;border:none;cursor:pointer;font-size:15px}
  .btn.primary{background:var(--accent);color:white}
  .btn.ghost{background:transparent;border:1px solid #e6eefc}
  .meta{margin-top:8px;font-size:13px;color:#666;text-align:center}
  @media (min-width:700px){ .stage{grid-template-columns:1fr 1fr} }
</style>
</head>
<body>
  <div class="wrap">
    <h1>í•œê¸€ ë§ì¶¤ë²• ê²Œì„</h1>

    <div style="display:flex;gap:8px;justify-content:center">
      <button id="startBtn" class="btn primary">ê²Œì„ ì‹œì‘</button>
      <button id="quitBtn" class="btn ghost">ê²Œì„ ì¢…ë£Œ</button>
    </div>

    <div id="gameArea" style="display:none">
      <div id="word" aria-live="polite"></div>

      <div id="stage1Title" class="small" style="margin-top:8px;text-align:left">1ë‹¨ê³„ â€” ì•„ë˜ í•­(ì¡°í•­ ì „ì²´ ë¬¸ì¥)ì„ ê³¨ë¼ì£¼ì„¸ìš”.</div>
      <div id="stage1" class="stage"></div>

      <div id="stage2Title" class="small" style="margin-top:12px;text-align:left;display:none">2ë‹¨ê³„ â€” ì„ íƒí•œ í•­ì˜ ì„¸ë¶€(ë¬¸ì¥ ì „ì²´)ë¥¼ ê³¨ë¼ì£¼ì„¸ìš”.</div>
      <div id="stage2" class="stage"></div>

      <div id="result" style="display:none"></div>

      <div class="controls">
        <button id="nextBtn" class="btn primary" style="display:none">ë‹¤ìŒ ë¬¸ì œ â–¶</button>
        <button id="showAnswerBtn" class="btn ghost" style="display:none">ì •ë‹µ ë³´ê¸°</button>
      </div>

      <div class="meta" id="scoreArea">ì ìˆ˜: 0</div>
    </div>
  </div>

<script>
// ====== ì¡°í•­(ì›ë¬¸)ê³¼ ì„¸ë¶€(ì›ë¬¸) ì •ì˜ ======
const clauses = {
  "5í•­": {
    "ë¬¸ì¥": "5í•­. í•œ ë‹¨ì–´ ì•ˆì—ì„œ ëšœë ·í•œ ê¹Œë‹­ ì—†ì´ ë‚˜ëŠ” ëœì†Œë¦¬ëŠ” ë‹¤ìŒ ìŒì ˆì˜ ì²«ì†Œë¦¬ë¥¼ ëœì†Œë¦¬ë¡œ ì ëŠ”ë‹¤.",
    "ì„¸ë¶€": {
      "1": "1. ë‘ ëª¨ìŒ ì‚¬ì´ì—ì„œ ë‚˜ëŠ” ëœì†Œë¦¬",
      "2": "2. â€˜ã„´, ã„¹, ã…, ã…‡â€™ ë°›ì¹¨ ë’¤ì—ì„œ ë‚˜ëŠ” ëœì†Œë¦¬",
      "ë¶™ì„": "ë‹¤ë§Œ, â€˜ã„±, ã…‚â€™ ë°›ì¹¨ ë’¤ì—ì„œ ë‚˜ëŠ” ëœì†Œë¦¬ëŠ”, ê°™ì€ ìŒì ˆì´ë‚˜ ë¹„ìŠ·í•œ ìŒì ˆì´ ê²¹ì³ ë‚˜ëŠ” ê²½ìš°ê°€ ì•„ë‹ˆë©´ ëœì†Œë¦¬ë¡œ ì ì§€ ì•„ë‹ˆí•œë‹¤."
    },
    "ë‹¨ì–´":[
      "ì†Œì©ìƒˆ","ì–´ê¹¨","ì˜¤ë¹ ","ìœ¼ëœ¸","ì•„ë¼ë‹¤","ê¸°ì˜ë‹¤","ê¹¨ë—í•˜ë‹¤","ì–´ë– í•˜ë‹¤","í•´ì“±í•˜ë‹¤","ê°€ë”","ê±°ê¾¸ë¡œ","ë¶€ì©","ì–´ì°Œ","ì´ë”°ê¸ˆ",
      "ì‚°ëœ»í•˜ë‹¤","ì”ëœ©","ì‚´ì§","í›¨ì”¬","ë‹´ë¿","ì›€ì°”","ëª½ë•…","ì—‰ëš±í•˜ë‹¤",
      "êµ­ìˆ˜","ê¹ë‘ê¸°","ë”±ì§€","ìƒ‰ì‹œ","ì‹¹ë‘‘","ë²•ì„","ê°‘ìê¸°","ëª¹ì‹œ"
    ]
  },
  "11í•­": {
    "ë¬¸ì¥": "11í•­. í•œììŒ â€˜ë´, ë ¤, ë¡€, ë£Œ, ë¥˜, ë¦¬â€™ê°€ ë‹¨ì–´ì˜ ì²«ë¨¸ë¦¬ì— ì˜¬ ì ì—ëŠ”,\në‘ìŒ ë²•ì¹™ì— ë”°ë¼ â€˜ì•¼, ì—¬, ì˜ˆ, ìš”, ìœ , ì´â€™ë¡œ ì ëŠ”ë‹¤.(ã„±ì„ ì·¨í•˜ê³ , ã„´ì„ ë²„ë¦¼.)",
    "ì„¸ë¶€": {
      "1": "11í•­-ì˜ˆì‹œ. ì–‘ì‹¬, ìš©ê¶, ì—­ì‚¬, ìœ í–‰, ì˜ˆì˜, ì´ë°œ",
      "ë¶™ì„1": "11í•­-ë¶™ì„1. ë‹¨ì–´ì˜ ì²«ë¨¸ë¦¬ ì´ì™¸ì˜ ê²½ìš°ì—ëŠ” ë³¸ìŒëŒ€ë¡œ ì ëŠ”ë‹¤.",
      "3": "11í•­-3. ëª¨ìŒì´ë‚˜ â€˜ã„´â€™ ë°›ì¹¨ ë’¤ì— ì´ì–´ì§€ëŠ” â€˜ë ¬, ë¥ â€™ì€ â€˜ì—´, ìœ¨â€™ë¡œ ì ëŠ”ë‹¤.(ã„±ì„ ì·¨í•˜ê³  ã„´ì„ ë²„ë¦¼.)"
    },
    "ë‹¨ì–´":[
      "ì–‘ì‹¬","ìš©ê¶","ì—­ì‚¬","ìœ í–‰","ì˜ˆì˜","ì´ë°œ",
      "ê°œëŸ‰","ì„ ëŸ‰","ìˆ˜ë ¥","í˜‘ë ¥","ì‚¬ë¡€","í˜¼ë¡€","ì™€ë£¡","ìŒë£¡","í•˜ë¥˜","ê¸‰ë¥˜","ë„ë¦¬","ì§„ë¦¬",
      "ë‚˜ì—´","ë¶„ì—´","ì¹˜ì—´","ì„ ì—´","ë¹„ì—´","ì§„ì—´","ê·œìœ¨","ì„ ìœ¨","ë¹„ìœ¨","ì „ìœ¨","ì‹¤íŒ¨ìœ¨","ë°±ë¶„ìœ¨"
    ]
  },
  "25í•­": {
    "ë¬¸ì¥": "25í•­. â€˜-í•˜ë‹¤â€™ê°€ ë¶™ëŠ” ì–´ê·¼ì— â€˜-íˆâ€™ë‚˜ â€˜-ì´â€™ê°€ ë¶™ì–´ì„œ ë¶€ì‚¬ê°€ ë˜ê±°ë‚˜, ë¶€ì‚¬ì— â€˜-ì´â€™ê°€ ë¶™ì–´ì„œ ëœ»ì„ ë”í•˜ëŠ” ê²½ìš°ì—ëŠ” ê·¸ ì–´ê·¼ì´ë‚˜ ë¶€ì‚¬ì˜ ì›í˜•ì„ ë°íˆì–´ ì ëŠ”ë‹¤.",
    "ì„¸ë¶€": {
      "1": "1. â€˜-í•˜ë‹¤â€™ê°€ ë¶™ëŠ” ì–´ê·¼ì— â€˜-íˆâ€™ë‚˜ â€˜-ì´â€™ê°€ ë¶™ëŠ” ê²½ìš°",
      "ë¶™ì„": "ë¶™ì„. â€˜-í•˜ë‹¤â€™ê°€ ë¶™ì§€ ì•ŠëŠ” ê²½ìš°ì—ëŠ” ì†Œë¦¬ëŒ€ë¡œ ì ëŠ”ë‹¤.",
      "2": "2. ë¶€ì‚¬ì— â€˜-ì´â€™ê°€ ë¶™ì–´ì„œ ì—­ì‹œ ë¶€ì‚¬ê°€ ë˜ëŠ” ê²½ìš°"
    },
    "ë‹¨ì–´":[
      "ê¸‰íˆ","ê¾¸ì¤€íˆ","ë„ì €íˆ","ë”±íˆ","ì–´ë ´í’‹ì´","ê¹¨ë—ì´",
      "ê°‘ìê¸°","ë°˜ë“œì‹œ","ìŠ¬ë©°ì‹œ",
      "ê³°ê³°ì´","ë”ìš±ì´","ìƒê¸‹ì´","ì˜¤ëšì´","ì¼ì°ì´","í•´ì£½ì´"
    ]
  },
  "30í•­": {
    "ë¬¸ì¥": "30í•­.ì‚¬ì´ì‹œì˜·ì€ ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— ë°›ì¹˜ì–´ ì ëŠ”ë‹¤.",
    "ì„¸ë¶€": {
      "1": "1. ìˆœìš°ë¦¬ë§ë¡œ ëœ í•©ì„±ì–´ë¡œì„œ ì•ë§ì´ ëª¨ìŒìœ¼ë¡œ ëë‚œ ê²½ìš°",
      "2": "2. ìˆœìš°ë¦¬ë§ê³¼ í•œìì–´ë¡œ ëœ í•©ì„±ì–´ë¡œì„œ ì•ë§ì´ ëª¨ìŒìœ¼ë¡œ ëë‚œ ê²½ìš°",
      "3": "3. ë‘ ìŒì ˆë¡œ ëœ ë‹¤ìŒ í•œìì–´"
    },
    "ë‹¨ì–´":[
      "ê³ ë«ì¬","ê·“ë°¥","ë‚˜ë­‡ê°€ì§€","ëƒ‡ê°€","ë±ƒê¸¸","ê¹»ì","ë‚˜ë­‡ì","ëƒ‡ë¬¼","ë¹—ë¬¼",
      "ê·“ë³‘","ë±ƒë³‘","ë´‡ë‘‘","ìƒ›ê°•","ì•„ë«ë°©","ìë¦¿ì„¸","íƒ¯ì¤„",
      "ê³³ê°„","ì…‹ë°©","ìˆ«ì","ì°»ê°„","íšŸìˆ˜"
    ]
  }
};

// ====== ë‹¨ì–´ -> (í•­, ì„¸ë¶€) ì •í™• ë§¤í•‘ ======
const wordMap = {};
// 5í•­
clauses["5í•­"].ë‹¨ì–´.forEach(w=>{
  if(["ì†Œì©ìƒˆ","ì–´ê¹¨","ì˜¤ë¹ ","ìœ¼ëœ¸","ì•„ë¼ë‹¤","ê¸°ì˜ë‹¤","ê¹¨ë—í•˜ë‹¤","ì–´ë– í•˜ë‹¤","í•´ì“±í•˜ë‹¤","ê°€ë”","ê±°ê¾¸ë¡œ","ë¶€ì©","ì–´ì°Œ","ì´ë”°ê¸ˆ"].includes(w)) {
    wordMap[w] = {clause:"5í•­", sub:"1"};
  } else if(["ì‚°ëœ»í•˜ë‹¤","ì”ëœ©","ì‚´ì§","í›¨ì”¬","ë‹´ë¿","ì›€ì°”","ëª½ë•…","ì—‰ëš±í•˜ë‹¤"].includes(w)) {
    wordMap[w] = {clause:"5í•­", sub:"2"};
  } else {
    wordMap[w] = {clause:"5í•­", sub:"ë¶™ì„"};
  }
});
// 11í•­
clauses["11í•­"].ë‹¨ì–´.forEach(w=>{
  if(["ì–‘ì‹¬","ìš©ê¶","ì—­ì‚¬","ìœ í–‰","ì˜ˆì˜","ì´ë°œ"].includes(w)) {
    wordMap[w] = {clause:"11í•­", sub:"1"};
  } else if(["ê°œëŸ‰","ì„ ëŸ‰","ìˆ˜ë ¥","í˜‘ë ¥","ì‚¬ë¡€","í˜¼ë¡€","ì™€ë£¡","ìŒë£¡","í•˜ë¥˜","ê¸‰ë¥˜","ë„ë¦¬","ì§„ë¦¬"].includes(w)) {
    wordMap[w] = {clause:"11í•­", sub:"ë¶™ì„1"};
  } else {
    wordMap[w] = {clause:"11í•­", sub:"3"};
  }
});
// 25í•­
clauses["25í•­"].ë‹¨ì–´.forEach(w=>{
  if(["ê¸‰íˆ","ê¾¸ì¤€íˆ","ë„ì €íˆ","ë”±íˆ","ì–´ë ´í’‹ì´","ê¹¨ë—ì´"].includes(w)) {
    wordMap[w] = {clause:"25í•­", sub:"1"};
  } else if(["ê³°ê³°ì´","ë”ìš±ì´","ìƒê¸‹ì´","ì˜¤ëšì´","ì¼ì°ì´","í•´ì£½ì´"].includes(w)) {
    wordMap[w] = {clause:"25í•­", sub:"2"};
  } else {
    wordMap[w] = {clause:"25í•­", sub:"ë¶™ì„"};
  }
});
// 30í•­
clauses["30í•­"].ë‹¨ì–´.forEach(w=>{
  if(["ê³ ë«ì¬","ê·“ë°¥","ë‚˜ë­‡ê°€ì§€","ëƒ‡ê°€","ë±ƒê¸¸","ê¹»ì","ë‚˜ë­‡ì","ëƒ‡ë¬¼","ë¹—ë¬¼"].includes(w)) {
    wordMap[w] = {clause:"30í•­", sub:"1"};
  } else if(["ê·“ë³‘","ë±ƒë³‘","ë´‡ë‘‘","ìƒ›ê°•","ì•„ë«ë°©","ìë¦¿ì„¸","íƒ¯ì¤„"].includes(w)) {
    wordMap[w] = {clause:"30í•­", sub:"2"};
  } else {
    wordMap[w] = {clause:"30í•­", sub:"3"};
  }
});

// ====== ê²Œì„ ìƒíƒœ ======
let remaining = [...Object.keys(wordMap)];
let currentWord = null;
let currentCorrect = null;
let score = 0;

// ====== UI ìš”ì†Œ ======
const startBtn = document.getElementById('startBtn');
const quitBtn = document.getElementById('quitBtn');
const wordEl = document.getElementById('word');
const stage1El = document.getElementById('stage1');
const stage2El = document.getElementById('stage2');
const stage2Title = document.getElementById('stage2Title');
const resultEl = document.getElementById('result');
const nextBtn = document.getElementById('nextBtn');
const showAnswerBtn = document.getElementById('showAnswerBtn');
const scoreArea = document.getElementById('scoreArea');
const gameArea = document.getElementById('gameArea');

function startGame(){
  score = 0;
  scoreArea.textContent = `ì ìˆ˜: ${score}`;
  startBtn.style.display = 'none';
  gameArea.style.display = 'block';
  nextQuestion();
}

function quitGame(){
  if(confirm("ê²Œì„ì„ ì¢…ë£Œí• ê¹Œìš”?")) {
    location.reload();
  }
}

function nextQuestion(){
  stage1El.innerHTML = '';
  stage2El.innerHTML = '';
  stage2Title.style.display = 'none';
  resultEl.style.display = 'none';
  nextBtn.style.display = 'none';
  showAnswerBtn.style.display = 'none';

  const idx = Math.floor(Math.random()*remaining.length);
  currentWord = remaining[idx];
  currentCorrect = wordMap[currentWord];
  wordEl.textContent = currentWord;

  // 1ë‹¨ê³„ ë²„íŠ¼ ìƒì„±
  const keys = Object.keys(clauses);
  keys.forEach(key=>{
    const btn = document.createElement('button');
    btn.className = 'opt';
    btn.type = 'button';
    btn.textContent = `${clauses[key].ë¬¸ì¥}`;
    btn.onclick = ()=>selectStage1(key);
    stage1El.appendChild(btn);
  });
}

function selectStage1(key){
  stage2El.innerHTML = '';
  stage2Title.style.display = 'block';
  const subs = clauses[key].ì„¸ë¶€;
  const subKeys = Object.keys(subs);
  subKeys.forEach(sk=>{
    const btn = document.createElement('button');
    btn.className = 'opt';
    btn.type = 'button';
    btn.textContent = `${subs[sk]}`;
    btn.onclick = ()=>checkAnswer(key, sk);
    stage2El.appendChild(btn);
  });
  window.scrollTo({top: document.body.scrollHeight, behavior: 'smooth'});
}

function checkAnswer(selectedClause, selectedSub){
  const correct = currentCorrect;
  resultEl.style.display = 'block';
  if(selectedClause === correct.clause && selectedSub === correct.sub){
    resultEl.className = 'ok';
    resultEl.textContent = 'ì •ë‹µ! ğŸ‰  â€” ì¡°í•­: ' + clauses[selectedClause].ë¬¸ì¥ + '\nê·¼ê±° ì˜ˆ: "' + currentWord + '"';
    score++;
    scoreArea.textContent = `ì ìˆ˜: ${score}`;
  } else {
    resultEl.className = 'bad';
    const correctClauseSentence = clauses[correct.clause].ë¬¸ì¥;
    const correctSubSentence = clauses[correct.clause].ì„¸ë¶€[correct.sub];
    resultEl.innerHTML = `<div>ì˜¤ë‹µ ğŸ˜¢</div>
      <div style="margin-top:8px"><strong>ì •ë‹µ í•­ëª©:</strong> ${correctClauseSentence}</div>
      <div style="margin-top:6px"><strong>ì •ë‹µ ì„¸ë¶€:</strong> ${correctSubSentence}</div>
      <div style="margin-top:8px"><strong>ê·¼ê±° ì˜ˆ:</strong> "${currentWord}"</div>`;
  }
  Array.from(document.querySelectorAll('#stage1 button.opt')).forEach(b=>b.disabled=true);
  Array.from(document.querySelectorAll('#stage2 button.opt')).forEach(b=>b.disabled=true);

  nextBtn.style.display = 'inline-block';
  showAnswerBtn.style.display = 'inline-block';
}

function showAnswer(){
  const correct = currentCorrect;
  const clauseSentence = clauses[correct.clause].ë¬¸ì¥;
  const subSentence = clauses[correct.clause].ì„¸ë¶€[correct.sub];
  alert(`ì •ë‹µ(ì „ì²´):\n${clauseSentence}\n\nì„¸ë¶€:\n${subSentence}\n\nê·¼ê±° ì˜ˆ: "${currentWord}"`);
}

startBtn.onclick = startGame;
quitBtn.onclick = quitGame;
nextBtn.onclick = ()=>nextQuestion();
showAnswerBtn.onclick = showAnswer;

</script>
</body>
</html>
